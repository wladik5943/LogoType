{"ast":null,"code":"// src/components/AppNavbar.jsx\nimport React,{useEffect,useState}from'react';import NavbarFull from'./NavbarFull';import Navbar from'./Navbar';import api from\"../api\";import{jsx as _jsx}from\"react/jsx-runtime\";export default function AppNavbar(){const[user,setUser]=useState(null);useEffect(()=>{const token=sessionStorage.getItem('accessToken');if(token){const storedUser=sessionStorage.getItem('user');if(storedUser){setUser(JSON.parse(storedUser));}else{api.get('/oauth/me').then(res=>{setUser(res.data);sessionStorage.setItem(\"user\",JSON.stringify(res.data));});// fallback\n}}},[]);return user?/*#__PURE__*/_jsx(NavbarFull,{user:user}):/*#__PURE__*/_jsx(Navbar,{});}","map":{"version":3,"names":["React","useEffect","useState","NavbarFull","Navbar","api","jsx","_jsx","AppNavbar","user","setUser","token","sessionStorage","getItem","storedUser","JSON","parse","get","then","res","data","setItem","stringify"],"sources":["D:/progects/SoftArex/frontend/src/utils/AppNavbar.jsx"],"sourcesContent":["// src/components/AppNavbar.jsx\r\nimport React, { useEffect, useState } from 'react';\r\nimport NavbarFull from './NavbarFull';\r\nimport Navbar from './Navbar';\r\nimport api from \"../api\";\r\n\r\nexport default function AppNavbar() {\r\n    const [user, setUser] = useState(null);\r\n\r\n    useEffect(() => {\r\n        const token = sessionStorage.getItem('accessToken');\r\n        if (token) {\r\n            const storedUser = sessionStorage.getItem('user');\r\n            if (storedUser) {\r\n                setUser(JSON.parse(storedUser));\r\n            } else {\r\n                api.get('/oauth/me')\r\n                    .then(res => {\r\n                        setUser(res.data)\r\n                        sessionStorage.setItem(\"user\", JSON.stringify(res.data));\r\n                    }) // fallback\r\n            }\r\n        }\r\n    }, []);\r\n\r\n    return user ? <NavbarFull user={user} /> : <Navbar />;\r\n}\r\n"],"mappings":"AAAA;AACA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,UAAU,KAAM,cAAc,CACrC,MAAO,CAAAC,MAAM,KAAM,UAAU,CAC7B,MAAO,CAAAC,GAAG,KAAM,QAAQ,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAEzB,cAAe,SAAS,CAAAC,SAASA,CAAA,CAAG,CAChC,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGR,QAAQ,CAAC,IAAI,CAAC,CAEtCD,SAAS,CAAC,IAAM,CACZ,KAAM,CAAAU,KAAK,CAAGC,cAAc,CAACC,OAAO,CAAC,aAAa,CAAC,CACnD,GAAIF,KAAK,CAAE,CACP,KAAM,CAAAG,UAAU,CAAGF,cAAc,CAACC,OAAO,CAAC,MAAM,CAAC,CACjD,GAAIC,UAAU,CAAE,CACZJ,OAAO,CAACK,IAAI,CAACC,KAAK,CAACF,UAAU,CAAC,CAAC,CACnC,CAAC,IAAM,CACHT,GAAG,CAACY,GAAG,CAAC,WAAW,CAAC,CACfC,IAAI,CAACC,GAAG,EAAI,CACTT,OAAO,CAACS,GAAG,CAACC,IAAI,CAAC,CACjBR,cAAc,CAACS,OAAO,CAAC,MAAM,CAAEN,IAAI,CAACO,SAAS,CAACH,GAAG,CAACC,IAAI,CAAC,CAAC,CAC5D,CAAC,CAAC,CAAC;AACX,CACJ,CACJ,CAAC,CAAE,EAAE,CAAC,CAEN,MAAO,CAAAX,IAAI,cAAGF,IAAA,CAACJ,UAAU,EAACM,IAAI,CAAEA,IAAK,CAAE,CAAC,cAAGF,IAAA,CAACH,MAAM,GAAE,CAAC,CACzD","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}