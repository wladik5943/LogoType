{"ast":null,"code":"import _objectSpread from\"D:/progects/SoftArex/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{Form,FormGroup,Label,Input,Spinner,Button,Container,Modal,ModalHeader,ModalBody,ModalFooter}from'reactstrap';import{useLocation,useParams}from'react-router-dom';import api from'../api';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const FieldsPage=()=>{const[test,setTest]=useState([]);const[submitting,setSubmitting]=useState(false);const[fields,setFields]=useState([]);const[formData,setFormData]=useState({});const[loading,setLoading]=useState(true);// Для модалки с ошибками\nconst[modalOpen,setModalOpen]=useState(false);const[modalMessage,setModalMessage]=useState('');const{id}=useParams();useEffect(()=>{const fetchFields=async()=>{setLoading(true);try{let response;if(id){response=await api.get(\"/test/\".concat(id));}else{window.location.href='/questionnaires';}const data=id?response.data:response.data.content;setFields(data.fields);setTest(data);const initialFormData={};data.forEach(field=>{if(field.type==='CHECKBOX'||field.type==='RADIO_BUTTON'||field.type==='COMBOBOX'){initialFormData[field.id]=[];}else{initialFormData[field.id]='';}});setFormData(initialFormData);}catch(err){console.error('Error loading fields:',err);}finally{setLoading(false);}};fetchFields();},[id]);const handleChange=function(field,value){let optionValue=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;setFormData(prevData=>{if(field.type==='CHECKBOX'){const current=prevData[field.id]||[];const updated=current.includes(optionValue)?current.filter(v=>v!==optionValue):[...current,optionValue];return _objectSpread(_objectSpread({},prevData),{},{[field.id]:updated});}else{return _objectSpread(_objectSpread({},prevData),{},{[field.id]:value});}});};const renderField=field=>{switch(field.type){case'TEXT_SINGLE_LINE':return/*#__PURE__*/_jsx(Input,{type:\"text\",value:formData[field.id]||'',onChange:e=>handleChange(field,e.target.value)});case'TEXT_MULTILINE':return/*#__PURE__*/_jsx(Input,{type:\"textarea\",value:formData[field.id]||'',onChange:e=>handleChange(field,e.target.value)});case'RADIO_BUTTON':return(field.options||[]).map((opt,index)=>/*#__PURE__*/_jsx(FormGroup,{check:true,children:/*#__PURE__*/_jsxs(Label,{check:true,children:[/*#__PURE__*/_jsx(Input,{type:\"radio\",name:\"radio-\".concat(field.id),value:opt,checked:formData[field.id]===opt,onChange:()=>handleChange(field,opt)}),' ',opt]})},index));case'CHECKBOX':return(field.options||[]).map((opt,index)=>/*#__PURE__*/_jsx(FormGroup,{check:true,children:/*#__PURE__*/_jsxs(Label,{check:true,children:[/*#__PURE__*/_jsx(Input,{type:\"checkbox\",value:opt,checked:(formData[field.id]||[]).includes(opt),onChange:()=>handleChange(field,null,opt)}),' ',opt]})},index));case'COMBOBOX':return/*#__PURE__*/_jsxs(Input,{type:\"select\",value:formData[field.id]||'',onChange:e=>handleChange(field,e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select...\"}),(field.options||[]).map((opt,index)=>/*#__PURE__*/_jsx(\"option\",{value:opt,children:opt},index))]});case'DATE':return/*#__PURE__*/_jsx(Input,{type:\"date\",value:formData[field.id]||'',onChange:e=>handleChange(field,e.target.value)});default:return null;}};// Валидация обязательных полей\nconst validateForm=()=>{for(const field of fields){if(field.required){const value=formData[field.id];if(value===''||Array.isArray(value)&&value.length===0||value==null&&field.active){setModalMessage(\"\\u041F\\u043E\\u0436\\u0430\\u043B\\u0443\\u0439\\u0441\\u0442\\u0430, \\u0437\\u0430\\u043F\\u043E\\u043B\\u043D\\u0438\\u0442\\u0435 \\u043E\\u0431\\u044F\\u0437\\u0430\\u0442\\u0435\\u043B\\u044C\\u043D\\u043E\\u0435 \\u043F\\u043E\\u043B\\u0435: \\\"\".concat(field.label,\"\\\"\"));setModalOpen(true);return false;}}}return true;};const handleSubmit=async e=>{e.preventDefault();if(!validateForm()){return;}setSubmitting(true);const payload={questionnaireId:parseInt(id),answers:Object.entries(formData).map(_ref=>{let[fieldId,value]=_ref;return{fieldId:parseInt(fieldId),value:Array.isArray(value)?value.join(','):value};})};try{await api.post('/answer',payload);window.location.href=\"/questionnaires/success\";}catch(error){console.error('Ошибка при отправке формы:',error);if(error.response&&error.response.status===401){setModalMessage('Вы не авторизованы. Пожалуйста, войдите в систему.');setModalOpen(true);}else{setModalMessage('Ошибка при отправке. Попробуйте снова.');setModalOpen(true);}}finally{setSubmitting(false);}};return/*#__PURE__*/_jsxs(Container,{className:\"d-flex justify-content-center align-items-center mt-5 mb-5\",children:[/*#__PURE__*/_jsxs(\"div\",{style:{width:'100%',maxWidth:'420px',background:'#fff',border:'1px solid #ddd',borderRadius:'8px',padding:'30px',boxShadow:'0 4px 12px rgba(0,0,0,0.1)'},children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-center mb-4\",children:test.title}),/*#__PURE__*/_jsxs(Form,{onSubmit:handleSubmit,children:[fields.filter(field=>field.active).map(field=>/*#__PURE__*/_jsxs(FormGroup,{className:\"mb-3\",children:[/*#__PURE__*/_jsxs(Label,{className:\"form-label\",style:{fontWeight:500},children:[field.label,\" \",field.required&&/*#__PURE__*/_jsx(\"span\",{className:\"text-danger\",children:\"*\"})]}),renderField(field)]},field.id)),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center mt-4\",children:/*#__PURE__*/_jsx(Button,{color:\"primary\",type:\"submit\",disabled:submitting,style:{minWidth:'120px'},children:submitting?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Spinner,{size:\"sm\",className:\"me-2\"}),\"Sending...\"]}):\"SUBMIT\"})})]})]}),/*#__PURE__*/_jsxs(Modal,{isOpen:modalOpen,toggle:()=>setModalOpen(!modalOpen),children:[/*#__PURE__*/_jsx(ModalHeader,{toggle:()=>setModalOpen(false),children:\"\\u0412\\u043D\\u0438\\u043C\\u0430\\u043D\\u0438\\u0435\"}),/*#__PURE__*/_jsx(ModalBody,{children:modalMessage}),/*#__PURE__*/_jsx(ModalFooter,{children:/*#__PURE__*/_jsx(Button,{color:\"secondary\",onClick:()=>setModalOpen(false),children:\"\\u0417\\u0430\\u043A\\u0440\\u044B\\u0442\\u044C\"})})]})]});};export default FieldsPage;","map":{"version":3,"names":["React","useState","useEffect","Form","FormGroup","Label","Input","Spinner","Button","Container","Modal","ModalHeader","ModalBody","ModalFooter","useLocation","useParams","api","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","FieldsPage","test","setTest","submitting","setSubmitting","fields","setFields","formData","setFormData","loading","setLoading","modalOpen","setModalOpen","modalMessage","setModalMessage","id","fetchFields","response","get","concat","window","location","href","data","content","initialFormData","forEach","field","type","err","console","error","handleChange","value","optionValue","arguments","length","undefined","prevData","current","updated","includes","filter","v","_objectSpread","renderField","onChange","e","target","options","map","opt","index","check","children","name","checked","validateForm","required","Array","isArray","active","label","handleSubmit","preventDefault","payload","questionnaireId","parseInt","answers","Object","entries","_ref","fieldId","join","post","status","className","style","width","maxWidth","background","border","borderRadius","padding","boxShadow","title","onSubmit","fontWeight","color","disabled","minWidth","size","isOpen","toggle","onClick"],"sources":["D:/progects/SoftArex/frontend/src/pages/QuestionnairePage.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport {\r\n    Form,\r\n    FormGroup,\r\n    Label,\r\n    Input,\r\n    Spinner,\r\n    Button,\r\n    Container,\r\n    Modal,\r\n    ModalHeader,\r\n    ModalBody,\r\n    ModalFooter\r\n} from 'reactstrap';\r\nimport {useLocation, useParams} from 'react-router-dom';\r\nimport api from '../api';\r\n\r\nconst FieldsPage = () => {\r\n\r\n\r\n\r\n    const [test, setTest] = useState([]);\r\n    const [submitting, setSubmitting] = useState(false);\r\n    const [fields, setFields] = useState([]);\r\n    const [formData, setFormData] = useState({});\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    // Для модалки с ошибками\r\n    const [modalOpen, setModalOpen] = useState(false);\r\n    const [modalMessage, setModalMessage] = useState('');\r\n    const { id } = useParams();\r\n    useEffect(() => {\r\n        const fetchFields = async () => {\r\n            setLoading(true);\r\n            try {\r\n                let response;\r\n                if (id) {\r\n                    response = await api.get(`/test/${id}`);\r\n                } else {\r\n                    window.location.href = '/questionnaires';\r\n                }\r\n                const data = id ? response.data : response.data.content;\r\n                setFields(data.fields);\r\n                setTest(data)\r\n\r\n                const initialFormData = {};\r\n                data.forEach((field) => {\r\n                    if (\r\n                        field.type === 'CHECKBOX' ||\r\n                        field.type === 'RADIO_BUTTON' ||\r\n                        field.type === 'COMBOBOX'\r\n                    ) {\r\n                        initialFormData[field.id] = [];\r\n                    } else {\r\n                        initialFormData[field.id] = '';\r\n                    }\r\n                });\r\n                setFormData(initialFormData);\r\n            } catch (err) {\r\n                console.error('Error loading fields:', err);\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n\r\n        fetchFields();\r\n    }, [id]);\r\n\r\n    const handleChange = (field, value, optionValue = null) => {\r\n        setFormData((prevData) => {\r\n            if (field.type === 'CHECKBOX') {\r\n                const current = prevData[field.id] || [];\r\n                const updated = current.includes(optionValue)\r\n                    ? current.filter((v) => v !== optionValue)\r\n                    : [...current, optionValue];\r\n                return { ...prevData, [field.id]: updated };\r\n            } else {\r\n                return { ...prevData, [field.id]: value };\r\n            }\r\n        });\r\n    };\r\n\r\n    const renderField = (field) => {\r\n        switch (field.type) {\r\n            case 'TEXT_SINGLE_LINE':\r\n                return (\r\n                    <Input\r\n                        type=\"text\"\r\n                        value={formData[field.id] || ''}\r\n                        onChange={(e) => handleChange(field, e.target.value)}\r\n                    />\r\n                );\r\n            case 'TEXT_MULTILINE':\r\n                return (\r\n                    <Input\r\n                        type=\"textarea\"\r\n                        value={formData[field.id] || ''}\r\n                        onChange={(e) => handleChange(field, e.target.value)}\r\n                    />\r\n                );\r\n            case 'RADIO_BUTTON':\r\n                return (field.options || []).map((opt, index) => (\r\n                    <FormGroup check key={index}>\r\n                        <Label check>\r\n                            <Input\r\n                                type=\"radio\"\r\n                                name={`radio-${field.id}`}\r\n                                value={opt}\r\n                                checked={formData[field.id] === opt}\r\n                                onChange={() => handleChange(field, opt)}\r\n                            />{' '}\r\n                            {opt}\r\n                        </Label>\r\n                    </FormGroup>\r\n                ));\r\n            case 'CHECKBOX':\r\n                return (field.options || []).map((opt, index) => (\r\n                    <FormGroup check key={index}>\r\n                        <Label check>\r\n                            <Input\r\n                                type=\"checkbox\"\r\n                                value={opt}\r\n                                checked={(formData[field.id] || []).includes(opt)}\r\n                                onChange={() => handleChange(field, null, opt)}\r\n                            />{' '}\r\n                            {opt}\r\n                        </Label>\r\n                    </FormGroup>\r\n                ));\r\n            case 'COMBOBOX':\r\n                return (\r\n                    <Input\r\n                        type=\"select\"\r\n                        value={formData[field.id] || ''}\r\n                        onChange={(e) => handleChange(field, e.target.value)}\r\n                    >\r\n                        <option value=\"\">Select...</option>\r\n                        {(field.options || []).map((opt, index) => (\r\n                            <option key={index} value={opt}>{opt}</option>\r\n                        ))}\r\n                    </Input>\r\n                );\r\n            case 'DATE':\r\n                return (\r\n                    <Input\r\n                        type=\"date\"\r\n                        value={formData[field.id] || ''}\r\n                        onChange={(e) => handleChange(field, e.target.value)}\r\n                    />\r\n                );\r\n            default:\r\n                return null;\r\n        }\r\n    };\r\n\r\n    // Валидация обязательных полей\r\n    const validateForm = () => {\r\n        for (const field of fields) {\r\n            if (field.required) {\r\n                const value = formData[field.id];\r\n                if (\r\n                    value === '' ||\r\n                    (Array.isArray(value) && value.length === 0) ||\r\n                    value == null && field.active\r\n                ) {\r\n                    setModalMessage(`Пожалуйста, заполните обязательное поле: \"${field.label}\"`);\r\n                    setModalOpen(true);\r\n                    return false;\r\n                }\r\n            }\r\n        }\r\n        return true;\r\n    };\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n\r\n        if (!validateForm()) {\r\n            return;\r\n        }\r\n\r\n        setSubmitting(true);\r\n\r\n        const payload = {\r\n            questionnaireId: parseInt(id),\r\n            answers: Object.entries(formData).map(([fieldId, value]) => ({\r\n                fieldId: parseInt(fieldId),\r\n                value: Array.isArray(value) ? value.join(',') : value\r\n            }))\r\n        };\r\n\r\n        try {\r\n            await api.post('/answer', payload);\r\n            window.location.href = `/questionnaires/success`;\r\n        } catch (error) {\r\n            console.error('Ошибка при отправке формы:', error);\r\n\r\n            if (error.response && error.response.status === 401) {\r\n                setModalMessage('Вы не авторизованы. Пожалуйста, войдите в систему.');\r\n                setModalOpen(true);\r\n            } else {\r\n                setModalMessage('Ошибка при отправке. Попробуйте снова.');\r\n                setModalOpen(true);\r\n            }\r\n        } finally {\r\n            setSubmitting(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Container className=\"d-flex justify-content-center align-items-center mt-5 mb-5\">\r\n            <div style={{\r\n                width: '100%',\r\n                maxWidth: '420px',\r\n                background: '#fff',\r\n                border: '1px solid #ddd',\r\n                borderRadius: '8px',\r\n                padding: '30px',\r\n                boxShadow: '0 4px 12px rgba(0,0,0,0.1)'\r\n            }}>\r\n                <h4 className=\"text-center mb-4\">{test.title}</h4>\r\n\r\n                <Form onSubmit={handleSubmit}>\r\n                    {fields\r\n                        .filter(field => field.active)\r\n                        .map((field) => (\r\n                            <FormGroup key={field.id} className=\"mb-3\">\r\n                                <Label className=\"form-label\" style={{ fontWeight: 500 }}>\r\n                                    {field.label} {field.required && <span className=\"text-danger\">*</span>}\r\n                                </Label>\r\n                                {renderField(field)}\r\n                            </FormGroup>\r\n                        ))}\r\n\r\n                    <div className=\"d-flex justify-content-center mt-4\">\r\n                        <Button\r\n                            color=\"primary\"\r\n                            type=\"submit\"\r\n                            disabled={submitting}\r\n                            style={{ minWidth: '120px' }}\r\n                        >\r\n                            {submitting ? (\r\n                                <>\r\n                                    <Spinner size=\"sm\" className=\"me-2\" />\r\n                                    Sending...\r\n                                </>\r\n                            ) : (\r\n                                \"SUBMIT\"\r\n                            )}\r\n                        </Button>\r\n                    </div>\r\n                </Form>\r\n            </div>\r\n\r\n\r\n            <Modal isOpen={modalOpen} toggle={() => setModalOpen(!modalOpen)}>\r\n                <ModalHeader toggle={() => setModalOpen(false)}>Внимание</ModalHeader>\r\n                <ModalBody>{modalMessage}</ModalBody>\r\n                <ModalFooter>\r\n                    <Button color=\"secondary\" onClick={() => setModalOpen(false)}>\r\n                        Закрыть\r\n                    </Button>\r\n                </ModalFooter>\r\n            </Modal>\r\n        </Container>\r\n\r\n    );\r\n};\r\n\r\nexport default FieldsPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}